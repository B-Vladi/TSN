<?xml version="1.0" encoding="UTF-8"?>

<!-- Шаблон страницы, входная точка для данных -->
<tsn:root xmlns:tsn="TSN" xmlns="http://www.w3.org/1999/xhtml">
	<!-- Подключение скриптов, используемых на этой странице -->
		<tsn:data key="JS" action="append">
			<script type="text/javascript" src="//page.js"> </script>
		</tsn:data>

		<tsn:data key="name" value="this" action="prepend" />

		<tsn:block name="first">
				Before
				<tsn:query method="this.getList" arguments="'filter', 100, this.getData()" params="error, data">
						<tsn:echo data="data" />
						<tsn:echo data="data" />
				</tsn:query>
				After
		</tsn:block>

		<tsn:block name="second" params="error, data">
				<tsn:query method="this.getList">
						<tsn:render block="end" />
				</tsn:query>
		</tsn:block>

		<!-- Рендеринг шаблона раздела -->
		<tsn:render file="service.xml" />
</tsn:root>